<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shelly Plug Steuerung</title>
</head>
<body>

    <h2>Shelly Plug Steuerung</h2>
    <button onclick="schalteShelly(true)">ðŸ”Œ Einschalten</button>
    <button onclick="schalteShelly(false)">ðŸ”Œ Ausschalten</button>

    <script>
        function schalteShelly(status) {
            // Erstelle die Daten fÃ¼r die Anfrage
            let data = new URLSearchParams();
            data.append("id", "e465b85d8cd8");
            data.append("turn", status ? "on" : "off");
            data.append("channel", "0");
            data.append("auth_key", "MmU4OTRmdWlk4A4D429C1AEBBB620E5AA56C8C7E4BE74451AEA01AF818193E6B1FDBB5535AEE6C59824916283299");

            fetch("https://shelly-165-eu.shelly.cloud/device/relay/control/", {
                method: "POST",
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: data.toString()
            })
            .then(response => response.json())
            .then(data => alert("Shelly Antwort: " + JSON.stringify(data)))
            .catch(error => alert("Fehler: " + error));
        }
    </script>

</body>
</html>
